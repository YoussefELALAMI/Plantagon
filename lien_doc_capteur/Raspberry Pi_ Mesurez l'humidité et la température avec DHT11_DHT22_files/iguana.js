try { var ezVideoPlayer;(()=>{"use strict";var e={d:(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function i(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)}function n(){return navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/BlackBerry/i)||i()||navigator.userAgent.match(/Opera Mini/i)||navigator.userAgent.match(/IEMobile/i)}function o(){let e=new RegExp("(googlebot/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)","i"),t=navigator.userAgent;return!!e.test(t)}function a(){let e="dash";return(i()||/apple/i.test(navigator.vendor)||o())&&(e="hls"),e}e.r(t),e.d(t,{Init:()=>ue,insertHTMLBelowFold:()=>ce});const r="ezvideojs";var l=new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"}),d=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});function s(e){return Object.assign({muted:!1,timeout:250,inline:!1},e)}function c(e,t){var i=e.muted,n=e.timeout,o=e.inline,a=t(),r=a.element,l=a.source,d=void 0,s=void 0,c=void 0;return r.muted=i,!0===i&&r.setAttribute("muted","muted"),!0===o&&r.setAttribute("playsinline","playsinline"),r.src=l,new Promise((function(e){d=r.play(),s=setTimeout((function(){c(!1,new Error("Timeout "+n+" ms has been reached"))}),n),c=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r.remove(),r.srcObject=null,clearTimeout(s),e({result:t,error:i})},void 0!==d?d.then((function(){return c(!0)})).catch((function(e){return c(!1,e)})):c(!0)}))}const u={audio:function(e){return c(e=s(e),(function(){return{element:document.createElement("audio"),source:URL.createObjectURL(l)}}))},video:function(e){return c(e=s(e),(function(){return{element:document.createElement("video"),source:URL.createObjectURL(d)}}))}},p=0,m=1,g=2,h=1,f=450,y=400,v=.4,w=384,b=250,I="450px",P=.7,E=400,z=400,_=["div","span","p","article","section","aside","main","ul","ol","h1","h2","h3","h4","h5","h6","table"],V=["header","footer","li","form","nav","script","code","pre","picture","figure","video"],x=["header","navbar","top-bar","site-header","main-navigation","footer","site-footer","bottom-bar","footer-nav","footer-widgets","menu","nav-menu","main-menu","dropdown-menu","side-menu"],A=["footer",".footer-nav",".footer-widgets",".site-footer",".footer"],C="undefined"!==typeof ezVideoAdConductor?ezVideoAdConductor.getVideoAdConductor():void 0;async function L(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=document.createElement("span");function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;!function(){if(window.EzoicMagicPlayerExclusionSelectors)for(var e=0;e<window.EzoicMagicPlayerExclusionSelectors.length;e++)try{for(var t=document.querySelectorAll(window.EzoicMagicPlayerExclusionSelectors[e]),i=0;i<t.length;i++)t[i].setAttribute("data-ezoic-video-excluded","1")}catch(o){B("magic: Invalid selector:",window.EzoicMagicPlayerExclusionSelectors[e],"; Error:",o)}try{t=document.querySelectorAll('[id^="ezoic-pub-ad-placeholder-"], .ezoic-ad.adtester-container');var n=Array.from(t).filter((e=>!e.hasAttribute("data-ezhumixplayerlocation")));for(e=0;e<n.length;e++)n[e].setAttribute("data-ezoic-video-excluded","1")}catch(o){B("magic: Invalid selector when excluding ezoic ads spans, Error:",o)}try{for(t=document.querySelectorAll("[data-ez-ph-id]"),e=0;e<t.length;e++)t[e].setAttribute("data-ezoic-video-excluded","1")}catch(o){B("magic: Invalid selector when excluding ezoic ads elements, Error:",o)}}(),function(){if(window.EzoicMagicPlayerInclusionSelectors)for(var e=0;e<window.EzoicMagicPlayerInclusionSelectors.length;e++)try{for(var t=document.querySelectorAll(window.EzoicMagicPlayerInclusionSelectors[e]),i=0;i<t.length;i++)t[i].setAttribute("data-ezoic-video-included","1")}catch(n){B("magic: Invalid selector:",window.EzoicMagicPlayerInclusionSelectors[e],"; Error:",n)}(t=document.querySelectorAll("[data-ezhumixplayerlocation]")).forEach((e=>{e.setAttribute("data-ezoic-video-included","1")}))}();var t=null,i=9999999999;let o=E;n()&&(o=z);var a=document.querySelectorAll(".ez-video-placeholder-marker, [data-ezhumixplayerlocation]"),r=e||window.EzoicPreferredLocation||1;B("magic: preferredViewports",r=function(e){if("URLSearchParams"in window){return new URLSearchParams(window.location.search).get(e)||null}return null}("ez_magic_viewports")||r);var d=window.innerHeight*r,s=Math.max(document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.body.scrollHeight);d>s&&(B("magic: the document is too short for the preferred height, placing at the end of the document"),d=s-200),B("magic: preferredHeight",d,"window.innerHeight",window.innerHeight,"pageHeight",s,"preferredViewports",r);var c=d-.5*o;let u=function(){if(2!=window._ezaq.form_factor_id)return B("featured image not relevant. this is not mobile"),null;let e=document.querySelectorAll('meta[name="robots"]'),t=!1;for(let a=0;a<e.length;a++){let i=e[a].getAttribute("content");if(i&&i.includes("max-image-preview:large")){t=!0;break}}if(!t)return B("does not have large image preview setting enabled"),null;const i=[".entry-header img",".td-post-featured-image img",".article__gallery img","img.wp-post-image",".article__cover img",".gallery__image_picture img",".et_pb_title_featured_container img",".featured-image img","img.featured",".post-thumbnail img",".post-header img",".cover-image img",".hero img",".banner img",".post > img:only-child",".article > img:only-child",".main > img:only-child","header img","figure.wp-block-image img","figure.wp-block-cover img",'img[data-featured="true"]','img[rel="featured"]'],n=2*window.innerHeight;let o=[];if(i.forEach((e=>{const t=document.querySelectorAll(e);o=o.concat(Array.from(t))})),o=[...new Set(o)],0===o.length)return B("no images found in the query"),null;if(o=o.filter((e=>{const t=e.getBoundingClientRect(),i=window.pageYOffset||document.documentElement.scrollTop||0,o=t.top+i;if(o>n)return B("filtered out img: ",e,` imageTopPosition: ${o}, positionThreshold: ${n}`),!1;const a=e.naturalWidth/e.naturalHeight;return t.width>200&&t.height>180&&a>.5&&!e.classList.contains("avatar")&&!e.classList.contains("icon")&&!e.closest(".thumbnails, .sidebar, .footer")})),0===o.length)return console.log("no suitable images after filtering"),null;return o.sort(((e,t)=>{const i=e.getBoundingClientRect(),n=t.getBoundingClientRect();return i.top+i.left-(n.top+n.left)})),o[0]}();if(u){let e=u.getBoundingClientRect(),t=Math.max(c,e.bottom+window.scrollY),i=Math.round(t-c),n=Math.round(c);window._ezaq&&window.__ez&&window.__ez.bit&&__ez.bit.Add(_ezaq.page_view_id,[new __ezDotData("delta_target_hmx_feat_img",i),new __ezDotData("old_target_hmx_feat_img",n)]),B("featured image identified was",u,`old target position: ${c}. new: ${t}`),c=t}else B("no featured image on the page",u);var p=d+o*(1+r),[t,i]=l(a,t,i,c);if(!t||i>p)var[t,i]=l(document.querySelectorAll("body *"),t,i,c);else B("magic: Found publisher placeholder that is good enough");return B("magic: found location. Will be placed at: element",t,"which has top position of:",i,"and needs to be below:",c),t}function a(e,t){let i=t.querySelectorAll("*").length,n=r(t,i,[]);if(0==n.length)return e;for(var o=[],a=0;a<n.length;a++){for(var l=!1,d=0;d<n.length;d++)if(a!=d&&n[a].contains(n[d])){l=!0;break}l||o.push(n[a])}var s=null;for(a=0;a<o.length;a++){var c=o[a].getBoundingClientRect();c.width>e&&(e=c.width,s=o[a])}return B("magic: content width is",e,s),e}function r(e,t,i){var n=e.querySelectorAll("*"),o=e.children,a=e.getBoundingClientRect();if(n.length>.33*t&&a.top<500&&!g(e)&&!m(e)){i.push(e);for(var l=0;l<o.length;l++)r(o[l],t,i)}return i}function l(e,t,i,o){let r=v,l=f,h=y;n()&&(r=P,l=w,h=b);const I=window.innerWidth;var E=a(0,document.body);B("magic: content width is ",E,"viewportWidth is ",I,"thresholdWidthMinPixels is ",h),E<h&&(B("magic: content width changed to viewport width"),E=I),B("getting min threshold width: ",r*I,l,.66*E);var z=Math.min(r*I,l,.66*E);z<h&&(z=h),B("magic: Finding element below fold with width! (pizza) >= "+z+"px and fold position >= "+o+"px");for(const n of e){const e=n.getBoundingClientRect();(n.hasAttribute("data-ezhumixplayerlocation")||n.classList.contains("ez-video-placeholder-marker"))&&(e.width=z),!(e.top>=o&&e.width>=z&&e.top<i&&p(n))||g(n)||u(n)||c(n)||m(n)||!d(n,o)||s(n)||(i=e.top,t=n)}return[t,i]}function d(e,t){for(const i of e.children){const e=i.getBoundingClientRect();if(!(0==e.width||0==e.height)&&e.top<t-100)return B("magic: dissalowed because child top: "+e.top+" < targetPosition-100: "+t),!1}return!0}function s(e){for(;e;){const t=window.getComputedStyle(e);if(parseInt(t.height)>450)return!1;if("none"!==t.backgroundImage)return!0;e=e.parentElement}return!1}function c(e){var t=e.getBoundingClientRect(),i=e.previousElementSibling;if(i){var n=i.getBoundingClientRect();if(t.top<n.bottom-30)return B("magic: dissalowed because element is overlapping: "+e),!0}return!1}function u(e){if(e.hasAttribute("data-ezoic-video-included")||e.classList.contains("ez-video-placeholder-marker"))return!1;let t=!window.EzoicMagicPlayerInclusionSelectors||0===window.EzoicMagicPlayerInclusionSelectors.length;for(;e;){if(!e.hasAttribute("data-ezoic-video-included")&&V.includes(e.tagName.toLowerCase())||e.hasAttribute("data-ezoic-video-excluded"))return!0;t=t||e.hasAttribute("data-ezoic-video-included");for(var i=0;i<x.length;i++)if(e.classList.contains(x[i]))return B("magic: dissalowed because element has disallowed class: "+e),!0;e=e.parentElement}return!t}function p(e){return!!_.includes(e.tagName.toLowerCase())}function m(e){for(;e;){var t=window.getComputedStyle(e);if(("fixed"===t.position||"sticky"===t.position||"absolute"===t.position)&&!e.hasAttribute("data-ezoic-video-included"))return B("magic: dissalowed because element is floating: "+e+" classes: "+e.classList),!0;e=e.parentElement}return!1}function g(e){var t=!(e.offsetWidth||e.offsetHeight||e.getClientRects().length);return t&&B("magic: dissalowed because element is invisible: "+e),t}function h(){const a=o(t);if(a&&a.parentNode){var r=!1;let t=window.getComputedStyle(a.parentNode),n=window.getComputedStyle(a);"grid"===t.display&&(r=!0,i.style="grid-column: 1/-1;"),(r=r||"grid"===t.display||"flex"===t.display)&&(B(`setting the order of the player's insert span to ${n.order}`),i.style.order=n.order),e instanceof Node?i.appendChild(e):i.innerHTML=e,a.parentNode.insertBefore(i,a);let o=function(e){if(!(e instanceof Element))throw new Error("Invalid input: not a DOM element");let t=e;for(;t.parentElement;){const i=t.parentElement;if(i.clientHeight<e.clientHeight){if("0px"!=window.getComputedStyle(i).height)return i}t=i}return null}(i);if(null!=o){if("0px"!=window.getComputedStyle(o).height){const e=5;B("magic: setting min height for ancestor element so that player doesn't overflow:",o),o.style.minHeight=e+o.scrollHeight+"px",T()&&(o.dataset.hmxplayer="added override to min height so that that the player won't overflow")}}return function(e){if(!e.hasAttribute("data-ezhumixplayerlocation"))return;for(;e.firstChild;)e.removeChild(e.firstChild);const t=e.id.match(/\d+$/)[0];document.querySelectorAll(`[data-ez-ph-id="${t}"]`).forEach((e=>{e.remove()}))}(a),function(e){if(!e.hasAttribute("data-ezhumixplayerlocation"))return;const t=e.parentElement;t.classList.contains("adslot")&&(t.classList.remove("adslot"),t.removeAttribute("id"))}(a),B("magic: Magic JS inserter placed magic player below fold",a),a.offsetWidth?parseInt(a.offsetWidth):parseInt(I)}if(!window.EzoicMagicPlayerInclusionSelectors||0===window.EzoicMagicPlayerInclusionSelectors.length){let t=!1;for(let e=0;e<A.length;e++){if(document.body.querySelector(A)){t=!0;break}}var l=window.EzoicPreferredLocation||1;if(!t&&1==l){let t=E;return n()&&(t=z),window.innerHeight-.5*t<Math.max(document.documentElement.scrollHeight,document.documentElement.offsetHeight,document.body.scrollHeight)&&(e instanceof Node?i.appendChild(e):i.innerHTML=e,B("magic: inserting to the end of the body, since there are no other good candidates"),document.body.appendChild(i)),document.body.offsetWidth?parseInt(document.body.offsetWidth):parseInt(I)}return B("magic: Magic JS inserter couldn't find a good element to insert into"),!1}}i.className="humix-universal-js-insert",i.style="display: block;padding:30px 0px;text-align:center;margin:0 auto;max-width:calc(min(768px, 100%))";let C=!1;var L;return C=h(),C||(await(L=300,new Promise((e=>setTimeout(e,L)))),B("magic: trying to place below fold again"),C=h()),C}async function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;for(var i=document.querySelectorAll('[id^="humix-vid-"]'),o=0;o<i.length;o++)for(var a=i[o].querySelectorAll("script"),r=0;r<a.length;r++)if(a[r].src.includes("humix.com"))return B("magic: found humix embed, not inserting magic player"),!1;B("Attempting to insert magic player",document.readyState);var l=await L(e,t);if(!!!l){let t=function(){let e=Array.from(document.querySelectorAll("span, div")).filter((e=>{const t=e.classList,i=e.id;return!(t.contains("under_page_title")||t.contains("top_of_page")||t.contains("sidebar")||t.contains("bottom_floating"))&&(t.contains("ezoic-autoinsert-video")||i.startsWith("ezoic-pub-video-placeholder-"))&&(!e.nextElementSibling||!e.nextElementSibling.id.startsWith("ez-video-wrap-"))}));return e.sort(((e,t)=>e.getBoundingClientRect().top-t.getBoundingClientRect().top)),e}();if(0==t.length)return B("No valid video nodes found for magic player, not inserting"),!1;B("Default inserting magic player into",t[0]),t[0].insertAdjacentHTML("afterend",e)}let d=parseInt(I);return d>l&&n()&&(d=l),Array.prototype.slice.call(document.querySelectorAll(".humix-universal-js-insert > .ez-video-wrap > .ez-video-center")).forEach((function(e){e.classList.contains("ez-playlist-vertical")||(e.style.maxWidth=d+"px")})),!0}function S(e,t){C&&(1==t.IsFloating&&"undefined"!==typeof ezVideoAdConductor&&"undefined"!==typeof __ezOutstream?function(e,t){B("Found autoplay magic player",t),e.on("playing",(function(){C.dispatchEvent("autoPlayStarted")})),C.addListener("pauseAutoPlay",(async function(t){e.pauseVideoOrAd().finally((()=>{t&&t.detail&&t.detail.done&&t.detail.done()}))})),C.addListener("startAutoPlay",(function(t){e.isPausedByUser()||e.playVideoOrAd(),t&&t.detail&&t.detail.done&&t.detail.done()})),C.setAutoPlayInstreamPlayer(e)}(e,t):t.MagicPlaceholderType==g?function(e,t){B("Found click to play magic player",t),e.on("playing",(function(){C.dispatchEvent("clickToPlayStarted")})),e.on("ended",(function(){C.dispatchEvent("clickToPlayEnded",{})})),e.on("pause",(function(){C.dispatchEvent("clickToPlayPaused")})),C.addListener("pauseClickToPlay",(function(t){e.pauseVideoOrAd(),t&&t.detail&&t.detail.done&&t.detail.done()})),C.setClickToPlayInstreamPlayer(e)}(e,t):t.MagicPlaceholderType==p&&function(e,t){B("Found non-magic player",t),e.on("playing",(function(){C.dispatchEvent("nonMagicPlayStarted",{player:e})})),C.addListener("pauseNonMagicPlay",(function(t){let i=t.detail.player;e!=i?(e.pauseVideoOrAd(),t&&t.detail&&t.detail.done&&t.detail.done()):t&&t.detail&&t.detail.done&&t.detail.done()})),t.IsAutoPlay&&C.setAutoPlayInstreamPlayer(e)}(e,t))}function T(){return"1"===new URLSearchParams(window.location.search).get("ez_vid_autoinsert_debug")}function B(){if(T()){let e=Array.from(arguments);e.unshift("[Video Player]"),console.log.apply(console,e)}}function M(){if(j()){let e=Array.from(arguments);e.unshift("[Video Player]"),console.log.apply(console,e)}}function j(){return"1"===new URLSearchParams(window.location.search).get("ez_vid_debug")}function R(){return"1"===new URLSearchParams(window.location.search).get("ez_instream_debug")}function O(e){return new Promise(((t,i)=>{let n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=function(){n.status>=200&&n.status<300?t(n.responseText):i(n.statusText)},n.onerror=function(){i(n.statusText)},n.send(null)}))}function H(e,t){return new Promise(((i,n)=>{let o=new XMLHttpRequest;o.open("POST",e,!0),o.setRequestHeader("Content-Type","application/json"),o.onload=function(){o.status>=200&&o.status<300?i(o.responseText):n(o.statusText)},o.onerror=function(){n(o.statusText)},o.send(JSON.stringify(t))}))}function q(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(ie(e))try{google.ima}catch(i){return M("google.ima not found, ads will not load"),e&&t}else if(!ne(e))return!1;return!!__ez.vhb||(M("ez.vhb not found, ads will not load"),!1)}function F(e,t,i,n){let o=!1,a=!1;i&&(o=i.autoplay_allowed,a=i.autoplay_allowed_muted),e.video_position_id=t.VideoPlaceholderId,e.is_autoplay=t.IsAutoPlay&&(o||a),e.is_floating=t.IsFloating,e.player_id=t.PlayerId,e.ads_enabled=t.AdsEnabled,e.play_outstream=t.playOutstream,"undefined"===typeof n?(e.ezVideoId=t.VideoContentId,e.title=$(t.VideoTitle),e.video_length=t.VideoDurationMs):(e.ezVideoId=n.VideoContentId,e.title=$(n.Title),e.video_length=n.VideoDurationMs)}function N(e){let t=null,i=e.VideoChapters;if(i&&i.Chapters&&i.EndTimes&&i.StartTimes&&i.Chapters.length>0&&i.Chapters.length==i.StartTimes.length&&i.StartTimes.length==i.EndTimes.length){let e=te(i);if(!e)return t;t={durations:e.durations,texts:e.texts}}return t}function D(e,t){let i=[],n={};n.error_description=t,e&&"undefined"!==typeof e.ezVideoImpressionId?n.video_impression_id=e.ezVideoImpressionId:n.video_impression_id="00000000-eeee-0000-eeee-000000000000",e&&(e.ezErrorState=!0),n.pageview_id="undefined"!==typeof _ezaq&&_ezaq.page_view_id,i.push(n),(new Image).src=(window._ez_send_requests_through_ezoic||window.hasOwnProperty("ezIntType")&&"wp"===window.ezIntType||window._ez_sa?"https://g.ezoic.net":window.location.protocol+"//"+document.location.hostname)+"/detroitchicago/ved.gif?e="+encodeURIComponent(JSON.stringify(i))}function U(e,t,i){if(M("Setting up captions plugin for VideoPositionId =",t.VideoPlaceholderId),t.isPlaylist){let e=t.VideoPlaylist;var n={isPlaylist:t.isPlaylist,srcs:e.Videos.map((function(e){for(const t in e.Captions)e.Captions[t].startsWith("/")&&(e.Captions[t]="https://video-streaming.ezoic.com"+e.Captions[t]);return e.Captions}))},o={isPlaylist:t.isPlaylist,srcs:e.Videos.map((function(e){return e.VideoLinksSrc}))}}else{(n={isPlaylist:t.isPlaylist,srcs:[t.Captions]}).srcs.forEach((function(e){for(const t in e)e[t].startsWith("/")&&(e[t]="https://video-streaming.ezoic.com"+e[t])}));o={isPlaylist:t.isPlaylist,srcs:[t.VideoLinksSrc]}}let a=o.srcs.map((function(e){return e?O(e).catch((function(e){return""})):Promise.resolve("")})),r=n.srcs.map((function(e){let t=[];for(let i in e)t.push({lang:i,url:e[i]});return Promise.all(t.map((e=>{let{lang:t,url:i}=e;return i?O(i).then((e=>({lang:t,data:e}))).catch((function(e){return{}})):Promise.resolve({})})))}));Promise.all([Promise.all(a),Promise.all(r)]).then((function(e){let[t,i]=e,n=function(e){return e?"data:text/vtt;base64,"+btoa(unescape(encodeURIComponent(e))):""},o=t.map(n),a=[];for(let r of i){let e={};for(let{lang:t,data:i}of r)t&&i&&(e[t]=n(i));a.push(e)}return[o,a]})).then((function(n){let[a,r]=n,l=a;o.isPlaylist||(l=a[0]);let d=r;o.isPlaylist||(d=r[0]);let s="ez-video-links-"+t.PlayerId;e.vttLinks({src:l,el:document.getElementById(s),onclick:function(e,t){i&&i.handleClickLink&&i.handleClickLink(e,t)},caption:d})}))}function W(e,t,i){let n,o,a,r,l;M("Setting up sharing plugin for VideoPositionId =",t.VideoPlaceholderId);let d=new URL(window.location.href);window.location.href.includes("/video/ezoic/view")?(n=t.VideoContentId,o=$(t.VideoTitle)):(d.hash="ezoic-pub-video-placeholder-"+t.VideoPlaceholderId,"undefined"===typeof i?(n=t.VideoContentId,o=$(t.VideoTitle),a=$(t.VideoDescription),r=t.PreviewURL,d.searchParams.set("ez_vid",n)):(l=e.videos[i],n=l.VideoContentId,o=$(l.Title),a=$(l.Description),r=l.PreviewImage,d.searchParams.set("ez_vid",n),d.searchParams.set("ez_vpid",t.VideoPlaceholderId),d.searchParams.set("ez_vpi",i)));let s={socials:["fbButton","tw","reddit","email","telegram","whatsapp","pinterest"],url:"https://www.humix.com/video/"+n,title:"Video Title Not Set"!==o?o:"",description:a,image:r,embedCode:"<script>(window.humixPlayers = window.humixPlayers || []).push({ target: document.currentScript, videoID: &quot;"+n+"&quot; });<\/script><script async data-cfasync=&quot;false&quot; src=&quot;https://www.humix.com/video.js&quot;><\/script>"};e.sharePlugin?e.sharePlugin.newOptions(s):e.sharePlugin=e.share(s)}function $(e){return e&&"function"===typeof e.replaceAll?e.replaceAll('"','"'):e}function G(e,t,i){var n=function(i){var n=i(`ez-video-${e.PlayerId}`,function(e,t){if("undefined"!==typeof e.videojsOptions)return e.videojsOptions;let i=document.getElementById("ez-video-wrap-"+e.PlayerId),n=!1;i&&(n=i.classList.contains("vertical-wrap"));let a=!1,r=!1;t&&(a=t.autoplay_allowed,r=t.autoplay_allowed_muted);let l=!1,d=!0,s=!0,c=!1;e.IsAutoPlay&&(l=!("www.flickify.com"==document.location.host||window.is_humix_app));e.IsFloating&&(d=!1),"undefined"!==typeof isSharedEmbed&&isSharedEmbed&&(s=!1,c=!0);let u={autoplay:!1,muted:l,suppressNotSupportedError:o(),fluid:s,fill:c,resizeManager:!0,playbackRates:[.5,1,1.5,2],liveTracker:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","resizeManager"],controlBar:{pictureInPictureToggle:d,progressControl:{seekBar:{chapters:N(e)}},skipButtons:!1,skipForward:!1,skipBackward:!1,liveDisplay:!1,seekToLive:!1,liveTracker:!1,customControlSpacer:!1,chaptersButton:!1,descriptionsButton:!1,audioTrackButton:!1}};return(e.isPlaylist||e.IsHumixApp&&2!=window._ezaq.form_factor_id)&&(u.aspectRatio="16:9"),n&&(u.aspectRatio="9:16"),u}(e,t),(function(){window.isSharedEmbed&&e.MagicPlaceholderType==g&&n.fill(!0)}));let a=document.createElement("div");return a.setAttribute("id",`ez-video-ad-container-${e.PlayerId}`),n.el().appendChild(a),n};return"function"===typeof define&&define.amd?define(["videojs"],n):n(videojs)}function J(e,t){if(M("Setting up markers plugin"),!t)return;let i={markerStyle:{width:"4px","background-color":"green"},markers:t.map((t=>{let i=t.timeOffsetSeconds;return-1==i&&(i=e.video_length/1e3),{time:i,text:t.breakID+": "+t.timeOffset}}))};"function"!==typeof e.markers&&e.markers.destroy(),e.markers(i)}function Q(e,t){const i=t.PlayerId;function n(t,i){const n=document.getElementById(t);n&&n.addEventListener("click",(function(t){e.trigger(i)}))}n("vignette-top-title-link-"+i,"clickThroughToHumixPage"),n("watch-on-link-"+i,"clickThroughToHumixPage"),n("control-bar-watchonlink-button-"+i,"clickThroughToHumixPage"),n("ez-lower-title-link-"+i,"clickThroughToHumixPage")}function X(e){return new Promise((function(t,i){var n=new XMLHttpRequest;n.addEventListener("load",(()=>{200===n.status?t(n.responseText):i()})),n.open("GET",e),n.send()}))}function Y(e,t){var i=[];return e.split(/[\r\n][\r\n]/i).forEach((function(e){if(e.match(/([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?( ?--> ?)([0-9]{2}:)?([0-9]{2}:)?[0-9]{2}(.[0-9]{3})?[\r\n]{1}.*/gi)){var n=e.split(/[\r\n]/i),o=n[0].split(/ ?--> ?/i),a=o[0],r=o[1],l=function(e,t){let i,n={css:{},data:{}};i=t.indexOf("//")>=0?t.split(/([^\/]*)$/gi).shift():[window.location.protocol,"//",window.location.hostname,window.location.port?":"+window.location.port:"",window.location.pathname].join("").split(/([^\/]*)$/gi).shift()+t.split(/([^\/]*)$/gi).shift();if(e=function(e,t){if(e.indexOf("//")>=0)return e;if(0===t.indexOf("//"))return[t.replace(/\/$/gi,""),Z(e,"/")].join("/");if(t.indexOf("//")>0)return[Z(t,"/"),Z(e,"/")].join("/");return e}(e,i),!e.match(/#xywh=/i))return n.css.background='url("'+e+'")',n;let o=function(e){var t=e.split(/#xywh=/i),i=t[0],n=t[1].match(/[0-9]+/gi);return{x:n[0],y:n[1],w:n[2],h:n[3],image:i}}(e),a=parseInt(o.x),r=parseInt(o.y);return n.data.x=a,n.data.y=r,n.data.image=o.image,n.css.background='url("'+o.image+'") no-repeat -'+o.x+"px -"+o.y+"px",n.css.width=o.w+"px",n.css.height=o.h+"px",n}(n[1],t);i.push({start:K(a),end:K(r),css:l.css,data:l.data})}})),i}function K(e){var t=function(e){var t=e.split("."),i=t[0].split(":");return{milliseconds:parseInt(t[1])||0,seconds:parseInt(i.pop())||0,minutes:parseInt(i.pop())||0,hours:parseInt(i.pop())||0}}(e);return parseInt(3600*t.hours+60*t.minutes+t.seconds+t.milliseconds/1e3)}function Z(e,t){var i=[" ","\n","\r","\t","\f","\v","\xa0","\u2000","\u2001","\u2002","\u2003","\u2004","\u2005","\u2006","\u2007","\u2008","\u2009","\u200a","\u200b","\u2028","\u2029","\u3000"].join(""),n=0,o=0;for(e+="",t&&(i=(t+"").replace(/([[\]().?/*{}+$^:])/g,"$1")),n=e.length,o=0;o<n;o++)if(-1===i.indexOf(e.charAt(o))){e=e.substring(o);break}for(o=(n=e.length)-1;o>=0;o--)if(-1===i.indexOf(e.charAt(o))){e=e.substring(0,o+1);break}return-1===i.indexOf(e.charAt(0))?e:""}function ee(){return new Promise((async e=>{"loading"===document.readyState?(M("["+videoObject.VideoPlaceholderId+"]","waiting for document to be ready before inserting magic html"),document.addEventListener("DOMContentLoaded",e)):e()}))}function te(e){if(!e||!e.Chapters||!e.StartTimes||!e.EndTimes||0===e.Chapters.length||e.Chapters.length!==e.StartTimes.length||e.StartTimes.length!==e.EndTimes.length)return null;let t=[],i=[0];for(let o=0;o<e.StartTimes.length-1;o++)t.push(Math.max(e.StartTimes[o+1],e.EndTimes[o])-e.StartTimes[o]);t.push(e.EndTimes[e.EndTimes.length-1]-e.StartTimes[e.StartTimes.length-1]);let n=0;for(let o=0;o<t.length;o++)n+=t[o],i.push(n);return{durations:t,timestamps:i,texts:e.Chapters}}function ie(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?window.__ezOutstream:window.__ezInstream;if("undefined"===typeof e||"undefined"===typeof e.monetizationApproval)return!1;return e.monetizationApproval.MCMApproved}function ne(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?window.__ezOutstream:window.__ezInstream;if("undefined"===typeof e||"undefined"===typeof e.monetizationApproval)return!1;const t=e.monetizationApproval;return t.HDMApproved||t.HasGoogleEntry}function oe(){"undefined"!==typeof epbjs&&"function"!==typeof epbjs.requestBids&&"undefined"!==typeof __ez&&"undefined"!==typeof __ez.fads&&"undefined"!==typeof __ez.fads.adLoadHB&&!0!==__ez.fads.adLoadHB.loaded&&"function"===typeof __ez.fads.loadLibrary&&__ez.fads.loadLibrary(__ez.fads.adLoadHB.url,"adLoadHB")}function ae(e,t){e&&t&&"undefined"!==typeof t.Language&&"undefined"!==typeof ezVideo&&("undefined"===typeof ezVideo.playerLanguage&&(ezVideo.playerLanguage={}),ezVideo.playerLanguage[e]=t.Language)}function re(e,t,i,n,o){"undefined"!==typeof ezVadPb&&e&&e.adStrategy?(n.attachAdEventListener("adLoaded",(function(n){M("["+t.VideoPlaceholderId+"]","Ad loaded for VideoPostionId =",t.VideoPlaceholderId,e.adStrategy),t._adAnalytics=i.attachAdAnalytics(t.AdUnit,e.adStrategy,t,!0);let o=document.getElementById("ez-video-links-"+t.PlayerId);o&&o.classList.add("ez-video-link-hide")})),n.attachAdEventListener("adComplete",(function(){M("["+t.VideoPlaceholderId+"]","Ad finished playing");let e=document.getElementById("ez-video-links-"+t.PlayerId);e&&e.classList.remove("ez-video-link-hide"),"undefined"!==typeof ezVadPb&&t&&t._adAnalytics&&"function"===typeof t._adAnalytics.removePrebidEventHandlers&&t._adAnalytics.removePrebidEventHandlers()}))):(e.ads_.attachPlayerResizeEvent(o),n.attachAdEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,(function(n){M("["+t.VideoPlaceholderId+"]","Ad loaded for VideoPostionId =",t.VideoPlaceholderId,e.ads_.adsManager_),t._adAnalytics=i.attachAdAnalytics(t.AdUnit,e.ads_.adsManager_,t,!1);let o=document.getElementById("ez-video-links-"+t.PlayerId);o&&(o.classList.add("ez-video-link-hide"),e.ads_.adsManager_.addEventListener(google.ima.AdEvent.Type.COMPLETE,(function(){M("["+t.VideoPlaceholderId+"]","Ad finished playing"),o.classList.remove("ez-video-link-hide")})))})))}function le(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?e&&e.AdsEnabled?e.AdsEnabled:e.AdsEnabled||ie(t)?0:ne(t)?1:0:0}window.hasEzChromeExtListener||(window.addEventListener("message",(e=>{if(e.origin!==window.location.origin)return;const t=e.data;"insertHTMLBelowFold"===t.action&&k(t.html,t.viewport)})),window.hasEzChromeExtListener=!0);const de=["AT","BE","BG","CH","CY","CZ","DE","DK","EE","ES","FI","FR","GB","GF","GI","GP","GR","HR","HU","IC","IE","IS","IT","JE","LI","LT","LU","LV","MC","MF","MQ","MT","NL","NO","PL","PT","RE","RO","SE","SI","SK","SM","VA","YT"];function se(){return new Promise((async e=>{const t=de.includes(window._ezaq?.country);if(!window.__tcfapi&&t&&await new Promise((e=>setTimeout(e,1e3))),!window.__tcfapi)return M("consent: not enabled"),void e(!0);M("consent: enabled, waiting for event"),__tcfapi("addEventListener",2,((t,i)=>{if(!i)return M("consent: event failed"),void e(!1);if(!t.gdprApplies)return M("consent: gdpr does not apply"),void e(!0);if(["useractioncomplete","tcloaded"].includes(t.eventStatus)){const i=t.purpose.consents[1],n=t.vendor.consents[755];i&&n?(M("consent: accepted"),e(!0)):(M("consent: rejected"),e(!1))}}))}))}async function ce(e){await k(e)}function ue(e){window&&window.__ez&&window.__ez.ce&&(window.performance&&window.performance.timeOrigin?__ez.ce.AddPageviewEvent("video_player_js_start2",Math.floor(Date.now()-window.performance.timeOrigin)):window.performance&&window.performance.timing&&window.performance.timing.navigationStart&&__ez.ce.AddPageviewEvent("video_player_js_start2",Date.now()-window.performance.timing.navigationStart)),M("["+e.VideoPlaceholderId+"]","Initializing Ezoic Video Player for VideoPostionId =",e.VideoPlaceholderId),M("["+e.VideoPlaceholderId+"]","videoObject for VideoPostionId =",e.VideoPlaceholderId,e);let t=performance.now();if(e.MagicHTML){if(window.hasInsertedMagicPlayer)return void M("["+e.VideoPlaceholderId+"]","somehow we are inserting magic player more than once. exit for now");window.hasInsertedMagicPlayer=!0;let i=new Promise((async(i,n)=>{M("["+e.VideoPlaceholderId+"]","is being inserted on the client side"),await ee();let o=await k(e.MagicHTML);o?(e.InsertMethod="js",M("["+e.VideoPlaceholderId+"]","js insertion success. continue with the rest of the player intialization"),pe(t,e)):(M("["+e.VideoPlaceholderId+"]","Failed to insert magic player for VideoPostionId =",e.VideoPlaceholderId),function(e){if(M("recording JS inserter error"),"undefined"===typeof __ez)return;if("undefined"===typeof __ez.bit)return;if("undefined"===typeof _ezaq)return;let t=_ezaq.page_view_id;"undefined"!==typeof t&&__ez.bit.Add(t,[new __ezDotData("js_inserter_err",e)])}(h)),i(o)}));return[m,g].includes(e.MagicPlaceholderType)&&(window.EzoicMagicInsertPromise=i),i}if(e.MagicPlaceholderType!=g||!window.EzoicMagicInsertPromise)return M("["+e.VideoPlaceholderId+"]","is not being inserted in the client side. continue with the rest of the player initialization"),pe(t,e);M("["+e.VideoPlaceholderId+"]","is waiting for the inserter to finish"),window.EzoicMagicInsertPromise.then((i=>{if(M("["+e.VideoPlaceholderId+"]","is done waiting for inserter. lets continue with the rest of the player initialization"),i)return pe(t,e);M("["+e.VideoPlaceholderId+"]","looks like inserter failed. not initializing")}))}function pe(e,t){"undefined"!==typeof ezVideo&&ezVideo.disableNonMagicFloating&&t.MagicPlaceholderType==p&&(M("Disabling floating for non magic player VideoPostionId =",t.VideoPlaceholderId),t.IsFloating=!1);let i=function(e){let t;e.isPlaylist=!!e.VideoPlaylistId,t=e.isPlaylist?e.VideoPlaylist.Videos.map((e=>e.VideoContentId)):[e.VideoContentId];const i=a();let n;if(e.isPlaylist&&e.MagicPlaceholderType!=p){n=[H("https://videosvc.ezoic.com/playlist",{videoIDs:t,mType:i})]}else n=t.map((e=>O(function(e,t){return`https://videosvc.ezoic.com/play?videoID=${e}&manifest=${t}`}(e,i))));return Promise.all(n).then((e=>e.map(JSON.parse)))}(t),n="undefined"!==typeof vectx&&["click","clickplay"].includes(vectx.autoplay_type);if(t.IsAutoPlay&&!n){return(M("checking browser autoplay"),u.video({timeout:5e3,inline:!0}).then((e=>{let{result:t,error:i}=e;return!0===t?{autoplay_allowed:!0,autoplay_allowed_muted:!1}:(M("autoplay check error: ",i),{autoplay_allowed:!0,autoplay_allowed_muted:!0})})).catch((e=>(M("autoplay check caught - "+e),{autoplay_allowed:!1,autoplay_allowed_muted:!1})))).then((n=>me({videoObject:t,metadataPromises:i,start:e,permissions:n})))}return me({videoObject:t,metadataPromises:i,start:e})}function me(){let{videoObject:e,metadataPromises:t,start:i,permissions:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.then((t=>{let i=t;if(!(i.length<1))return e.isPlaylist&&e.MagicPlaceholderType!=p&&(i=t[0].playbackContent),e.isPlaylist?async function(e,t,i){M("["+e.VideoPlaceholderId+"]","Setting up playlist selection for VideoPositionId =",e.VideoPlaceholderId);let n=window.hasOwnProperty("ezVideoAnalytics")?window.ezVideoAnalytics:null,o=e.VideoPlaylist,a=e.PlayerId,l=o.Videos.length;document.getElementById("ez-video-container-"+a);if(l>0&&o.FirstVideoIndex<l)var d=o.Videos[o.FirstVideoIndex];let s=G(e,i);s.videos=o.Videos;let c={};e.IsHumixApp&&(c.defaultQuality=2);s.maxQualitySelector(c),4999!==e.VideoPlaceholderId&&s.settingsMenu();s.qualityLevels().on("change",(function(e){s.trigger("resolutionChange")})),s.textTracks().addEventListener("change",(function(e){s.trigger("captionToggle")})),ve(s,t[0].thumbnailvtt,e),he(s,d,e.VideoPlaceholderId),!1===e.IsHumixApp&&fe(s,e);"undefined"!==typeof t[0].caption&&ye(s,e);Q(s,e),we(s),"undefined"!==typeof __ezInstream&&"undefined"===typeof __ezInstream.playlistDurations&&(__ezInstream.playlistDurations={});let u=0,p=t.map(((t,i)=>{o.Videos[i].AdUnit||(o.Videos[i].AdUnit=e.AdUnit),o.Videos[i].Captions=t.caption,o.Videos[i].VideoDurationMs=o.Videos[i].VideoDurationMs||t.duration,u+=o.Videos[i].VideoDurationMs;let n=o.Videos[i].PreviewImage||t.poster;return{name:$(o.Videos[i].Title),description:$(o.Videos[i].Description),duration:t.duration/1e3,sources:[{src:t.src,type:t.type}],poster:n,thumbnail:[{src:n}],videoContentId:o.Videos[i].VideoContentId,isVertical:o.Videos[i].IsRotate}}));"undefined"!==typeof __ezInstream&&"undefined"!==typeof __ezInstream.playlistDurations&&(__ezInstream.playlistDurations[e.PlayerId]=u/1e3);d&&(F(s,e,i,d),e.videoObjectsCount&&(d.videoObjectsCount=e.videoObjectsCount),e.videoObjectsIndex&&(d.videoObjectsIndex=e.videoObjectsIndex),e.debugMessage&&(d.debugMessage=e.debugMessage),e.VideoRankingConfigId&&(d.VideoRankingConfigId=e.VideoRankingConfigId,d.CollectionId=e.CollectionId,d.ScoreGroupId=e.ScoreGroupId));s.playlist(p,o.FirstVideoIndex);const h=e.MagicPlaceholderType==g,f=e.MagicPlaceholderType==m;f||s.playlistUi({el:document.getElementById(`ez-video-playlist-${a}`),horizontal:!o.IsVerticalPlaylist});1===l&&h&&(e.VideoChapters&&Array.isArray(e.VideoChapters.StartTimes)&&Array.isArray(t)&&t.length>0&&t[0].thumbnailvtt?async function(e,t,i){let n=await X(i);if(!n)return;let o=Y(n,i);if(!o||0===o.length||!o[0].data||!o[0].data.image)return;let a=o[0].data.image;const r=document.getElementsByClassName("vjs-playlist-item-list")[0],l=document.querySelector(".vjs-playlist-item.vjs-selected picture"),d=l?.getElementsByTagName("img")[0],s=r?.getElementsByClassName("vjs-playlist-ad-overlay")[0];if(r&&l&&d){const i=10,n=15.2344,o=147.5,l=83.969,d=150,c=10,u=te(t).timestamps;u.forEach(((p,m)=>{if(0===m||m===u.length-1)return;const g=m,h=document.createElement("div");h.classList.add("vjs-playlist-item","vjs-playlist-chapter-item");const f=document.createElement("div");f.classList.add("vjs-playlist-thumbnail"),f.style.width=`${o}px`,f.style.height=`${l}px`,f.style.backgroundImage=`url(${a})`,f.style.backgroundSize=`${100*c+n}% auto`;const y=Math.floor(p/1e3),v=Math.ceil(y/i),w=v%c*d,b=Math.floor(v/c)*l;f.style.backgroundPosition=`-${w}px -${b}px`;const I=document.createElement("div");function P(){if("undefined"!==typeof ezVideoAdConductor){ezVideoAdConductor.getVideoAdConductor().dispatchEvent("clickToPlayStarted",{})}e.play()}I.classList.add("vjs-playlist-chapter-title"),I.textContent=t.Chapters[g],h.appendChild(f),h.appendChild(I),h.addEventListener("click",(()=>{e.currentTime(p/1e3),P()})),s?r.insertBefore(h,s):r.appendChild(h)}))}}(s,e.VideoChapters,t[0].thumbnailvtt):function(e){const t=document.getElementsByClassName("vjs-playlist-item-list")[0],i=document.querySelector(".vjs-playlist-item.vjs-selected picture"),n=i?.getElementsByTagName("img")[0],o=t?.getElementsByClassName("vjs-playlist-ad-overlay")[0];if(t&&i&&n){if(e){let i=document.createElement("a");i.href=`https://www.humix.com/@${e}`,i.target="_blank",i.classList.add("video-js","vjs-playlist-thumbnail","vjs-selected");let a=document.createElement("img");a.loading="lazy",a.nopin="nopin",a.src=n.src,i.appendChild(a);let r=document.createElement("span");r.innerHTML=`Visit @${e}`,r.classList.add("vjs-playlist-now-playing-text"),r.style="width: 95%; color: #03d8f3 !important; font-weight: bold; overflow: hidden; text-overflow: ellipsis;",i.appendChild(r);let l=document.createElement("li");l.classList.add("vjs-playlist-item"),l.appendChild(i),o?t.insertBefore(l,o):t.appendChild(l)}let i=document.createElement("a");i.href="https://www.humix.com/",i.target="_blank",i.classList.add("video-js","vjs-playlist-thumbnail","vjs-selected"),i.style="background-color: #000; min-width:100px;";let a=document.createElement("img");a.loading="lazy",a.nopin="nopin",a.src="https://assets.humix.com/humix-logo.png",a.classList.add("vjs-playlist-now-playing-text"),a.style="height: auto; min-height: inherit; opacity: 1; max-width: 100%; object-fit: contain;",i.appendChild(a);let r=document.createElement("li");r.classList.add("vjs-playlist-item"),r.appendChild(i),o?t.insertBefore(r,o):t.appendChild(r)}}(e.ChannelSlug));if(d){if(n)var y=n.NewAnalyticsPlayer(r,e,s),v=y.attachAnalytics(d);d.IsStartTimeEnabled&&s.currentTime(d.VideoStartTime)}s.playlist.autoadvance(0),s.playlist.repeat(!0),1===o.Autoskip&&"undefined"!==typeof s.autoskip&&s.autoskip.activate();let w,b,I=Object.assign({},e);async function P(t){const o=await se();if(q(!1,!1)&&!h&&o){let o=[];M("["+e.VideoPlaceholderId+"]","loading ads and grabbing them",o);let a="en";"undefined"!==typeof ezVideo&&ezVideo.language&&(a=ezVideo.language);const r=!!e.IsSharedEmbed,l=t,d=s.videos[l];o=[];const c=d.AdUnit;e.AdUnit=c;let u=!1;if(!s.adRenderer){if(ie(!1))M("attaching video ad rendering"),b=n.NewVideoAdInitializer(y,e,a,i),w=y.attachAdRendering({adUnit:c,adBreaks:o,adInitializer:b,isPlayList:!0,videoObject:e,browserPermissions:i});else{if(!ne(!1))return;M("attaching prebid video ad rendering"),oe(),b=n.NewPrebidVideoAdInitializer(y,e,a,i),w=y.attachPrebidAdRendering({adUnit:c,adBreaks:o,adInitializer:b,isPlayList:!0,videoObject:e,browserPermissions:i})}s.adRenderer=w,u=!0}await new Promise((e=>{u?s.adRenderer.initialize().then((()=>{e()})):e()})),re(s.adRenderer,e,y,b,s),__ez.vhb.requestBreaks(e.PlayerId,d.VideoContentId,le(e,!1),e.VideoPlaceholderId,d.InitialIndex,e.IsAutoPlay,e.IsFloating,r,c).then((t=>{y.videoContentShare=d.PublisherVideoContentShare,o=t,M("rendering ad breaks for video: ",e),s.adRenderer.requestAllAds(o)})).finally((()=>{(j()||R())&&J(s,o)}))}}I.VideoPlaylist=o,U(s,I,v),function(){let e=document.querySelector(".ez-video-magic-list");if(!e||e.classList.contains("ez-playlist-vertical"))return;let t=e.querySelector(".ez-video-magic-item");if(!t)return;let i=t.offsetWidth;if(e.children.length<2)return;let n=e.children[1];if(!n)return;let o=e.offsetWidth;n.style.maxWidth=o-i-0+"px"}();let E=!1,z=s.playlist.currentIndex();s.on("beforeplaylistitem",(function(t){v&&v.unloadAll(),e._adAnalytics&&e._adAnalytics.videoAdEventHandler.unloadAll()}));let _=0;return s.on("playlistitem",(async function(){let n=s.playlist.currentIndex(),r=s.videos[n];"undefined"!=typeof vectx&&vectx.is_magic_player&&(s.isFirstPlaylistItemConvertedToVideo||function(){let{player:e,magicAutoPlayVideoObject:t,currentIndex:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.isFirstPlaylistItemConvertedToVideo)return;e.isFirstPlaylistItemConvertedToVideo=!0;let n=e.el().querySelector(".vjs-poster > picture > img");n.style.filter="brightness(0.5)";let o=document.querySelectorAll("li.vjs-playlist-item")[i],a=document.getElementById("magic-autoplay-container");e.lastPlaylistItem={innerHTML:o.innerHTML,lastIndex:i},o.innerHTML="",o.appendChild(a),a.style.removeProperty("display"),ezVideoPlayer.Init(t).then((()=>{e.magicAutoPlayPlayer=videojs.getPlayer("ez-video-"+t.PlayerId),e.magicAutoPlayPlayer.ready((function(){e.on("playlistitem",(async function(){let t=e.playlist.currentIndex();!function(){let{player:e,currentIndex:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t==e.lastPlaylistItem.lastIndex)return void M("somehow we got the playlist item selection event for the same playlist item. exit for now");let i=document.querySelectorAll("li.vjs-playlist-item"),n=i[t],o=i[e.lastPlaylistItem.lastIndex],a=document.getElementById("magic-autoplay-container"),r=n.innerHTML;n.innerHTML="",n.appendChild(a),o.innerHTML=e.lastPlaylistItem.innerHTML,e.lastPlaylistItem={innerHTML:r,lastIndex:t};let l=e.playlist()[t];e.magicAutoPlayPlayer.poster(l.poster),e.magicAutoPlayPlayer.src(l.sources),e.magicAutoPlayPlayer.play()}({player:e,currentIndex:t})}))}))}))}({player:s,magicAutoPlayVideoObject:magicAutoPlayVideoObject,currentIndex:n}));let l=s.getChild("controlBar");if(l){let e=l.getChild("progressControl");if(e){let t=e.getChild("seekBar");t&&t.changeChapters(N(r))}}const d=n>z||_>=1;1!==o.IsShuffled&&!d||E||(E=!0),P(n),ae(e.PlayerId,r),F(s,e,i,r),function(e,t,i){var n="ReportButton-"+i;e.getChild("controlBar").removeChild(n),he(e,t,i)}(s,r,e.VideoPlaceholderId),v&&d&&v.setVideoData(r),_++,W(s,e,n);let c=t[s.playlist.currentIndex()];s.vttThumbnails&&function(e,t){e&&e.vttThumbnails&&e.vttThumbnails.options?X(t).then((i=>{let n=Y(i,t);e.vttThumbnails.options.src=t,e.vttThumbnails.options.vttObjects=n,e.vttThumbnails.vttData=n})):M("could not update vtt plugins")}(s,c.thumbnailvtt),r.IsStartTimeEnabled&&s.currentTime(r.VideoStartTime);let u=document.getElementById("ez-video-link-"+a);if(u){switch(ezVideo.titleOption){case"0":case"":u.innerHTML=r.Title;break;case"1":default:u.innerHTML="";break;case"2":u.innerHTML=ezVideo.titleString+" "+r.Title;break;case"3":u.innerHTML=r.Title+" "+ezVideo.titleString;break;case"4":u.innerHTML=ezVideo.titleString}u.href=function(e){return`//www.humix.com/video/${e.VideoContentId}`}(r)}if(e.IsFloating){let e=document.getElementById("ez-video-stuck-title-"+a);if(!e)return;let t=r.Title;r.Title.length>35&&(t=r.Title.substring(0,34)+"..."),e.innerHTML=t}!function(e,t,i){if("ez-4999"!==i){const e=document.getElementById(`ez-video-container-${i}`);let n="//www.humix.com/video/"+t.VideoContentId,o=document.getElementsByClassName("vignette-top-title-link")[0];o&&(o.setAttribute("href",n),o.innerHTML=t.Title);let a=document.getElementsByClassName("watch-on-link")[0];if(a&&a.setAttribute("href",n),e){let t=e.getElementsByClassName("control-bar-watchonlink-button")[0];t&&t.setAttribute("href",n)}}}(0,r,a)})),s}(e,i,n):async function(){let{videoObject:e,respObj:t,browserPermissions:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};M("["+e.VideoPlaceholderId+"]","Setting up video selection for VideoPositionId =",e.VideoPlaceholderId);let n=window.hasOwnProperty("ezVideoAnalytics")?window.ezVideoAnalytics:null;i?M("setUpVideoSelection: ",i):i={autoplay_allowed:!1,autoplay_allowed_muted:!1};e.VideoDurationMs=e.VideoDurationMs||t.duration;let o=G(e,i);F(o,e,i);let a={};e.IsHumixApp&&(a.defaultQuality=2);o.maxQualitySelector(a),o.settingsMenu(),o.qualityLevels().on("change",(function(e){o.trigger("resolutionChange")})),o.textTracks().addEventListener("change",(function(e){o.trigger("captionToggle")})),ve(o,t.thumbnailvtt,e),o.poster(e.PreviewURL||t.poster),o.src({src:t.src,type:t.type}),he(o,e),!1===e.IsHumixApp&&!1===e.IsVertical&&fe(o,e);"undefined"!==typeof t.caption&&ye(o,e);if(Q(o,e),we(o),ae(e.PlayerId,e),n){let t=n.NewAnalyticsPlayer(r,e,o);var l=t.attachAnalytics(e);const a=e.MagicPlaceholderType==g,d=await se();if(q(!1,!1)&&!a&&d){let a=[];M("["+e.VideoPlaceholderId+"]","loading ads and grabbing them",a);let r,l,d="en";"undefined"!==typeof ezVideo&&ezVideo.language&&(d=ezVideo.language),ie(!1)?(M("attaching video ad rendering"),l=n.NewVideoAdInitializer(t,e,d,i),r=t.attachAdRendering({adUnit:e.AdUnit,adBreaks:a,adInitializer:l,isPlayList:!1,videoObject:e,browserPermissions:i})):ne(!1)&&(M("attaching prebid video ad rendering"),oe(),l=n.NewPrebidVideoAdInitializer(t,e,d,i),r=t.attachPrebidAdRendering({adUnit:e.AdUnit,adBreaks:a,adInitializer:l,isPlayList:!1,videoObject:e,browserPermissions:i})),o.adRenderer=r,await o.adRenderer.initialize(),re(o.adRenderer,e,t,l,o);const s=!!e.IsSharedEmbed;__ez.vhb.requestBreaks(e.PlayerId,e.VideoContentId,le(e,!1),e.VideoPlaceholderId,0,e.IsAutoPlay,e.IsFloating,s,e.AdUnit).then((i=>{t.videoContentShare=e.PublisherVideoContentShare,a=i,M("rendering ad breaks for video: ",e),o.adRenderer.requestAllAds(a)})).finally((()=>{(j()||R())&&J(o,a)}))}else M("["+e.VideoPlaceholderId+"]","not laoding ads",q(!1),!a)}e.Captions=t.caption,U(o,e,l),e.IsStartTimeEnabled&&o.currentTime(e.VideoStartTime);return W(o,e),o}({videoObject:e,respObj:i[0],browserPermissions:n});M("["+e.VideoPlaceholderId+"]","No metadata found for VideoPostionId =",e.VideoPlaceholderId)})).then((t=>{if(!t)return void M("["+e.VideoPlaceholderId+"]","No player found for VideoPostionId =",e.VideoPlaceholderId);!async function(e,t){M("["+t.VideoPlaceholderId+"]","Setting up video player for VideoPositionId =",t.VideoPlaceholderId);let i=t.PlayerId,n=document.getElementById("ez-video-wrap-"+i);t.HasNextVideo&&(M(`setting up next video with next video id ${t.NextVideoURL}`),e.nextVideo({nextVideoURL:t.NextVideoURL}));let o=null;if(t.MagicPlaceholderType==m){var a=document.getElementsByClassName("ez-video-magic-autoplayer");a&&a.length>0&&(o=a[0])}let r=document.getElementById("ez-video-container-"+i),l=document.getElementById("ez-video-"+i);const d=document.getElementById("ez-video-ez-stuck-close-"+i),s=document.getElementById("ez-video-ez-stuck-bar-"+i),c=document.getElementById("floating-placeholder-sizer-"+i),u=document.getElementById("floating-placeholder-"+i),p=document.getElementById("ez-video-links-"+i);let g=!1,h=!1;t.IsFloating&&(g="none"===getComputedStyle(r)["animation-name"],h="undefined"!==typeof __ezOutstream&&"undefined"!==typeof ezVideoAdConductor);e.on("error",(function(t){let i=e.error(),n="Error "+i.code+"; details: "+i.message;D(e,n)})),function(e){let t=e.parentElement;for(;null!==t&&t!==document.body;){const e=window.getComputedStyle(t).getPropertyValue("transform");M("found a transform from an ancestor element",e),"matrix(1, 0, 0, 1, 0, 0)"==e&&(M("transform is safe to remove"),t.style.transform="none"),t=t.parentElement}}(r);const f=450;let y={};y.qualityEl=r.querySelector(".vjs-max-quality-selector-button"),y.shareEl=r.querySelector(".vjs-share-control"),y.pipEl=r.querySelector(".vjs-picture-in-picture-control"),y.captionsEl=r.querySelector(".vjs-subs-caps-button"),y.remainingTimeEl=r.querySelector(".vjs-remaining-time"),y.playbackRateEl=r.querySelector(".vjs-playback-rate"),y.timeControlEls=r.querySelectorAll(".vjs-time-control");const v=t.MagicPlaceholderType==m,w=!!t.IsSharedEmbed;let b=function(e){e&&e.classList&&e.classList.add("vjs-hidden")},I=function(e){for(let t=0;t<e.length;t++){let i=e[t];i&&i.classList&&i.classList.add("vjs-hidden")}},P=function(e){e&&e.classList&&e.classList.remove("vjs-hidden")},E=function(e){for(let t=0;t<e.length;t++){let i=e[t];i&&i.classList&&i.classList.remove("vjs-hidden")}};l.classList.remove("vjs-16-9"),t.Width<t.Height&&l.classList.add("vjs-9-16");e.on("ended",(async function(){if(t.isPlaylist)v&&1===e.playlist.length&&(e.playlist.first(),e.play());else if(t.IsLoop){if(e.play(),e.adRenderer){let i=await __ez.vhb.requestBreaks(t.PlayerId,t.VideoContentId,le(t,!1),t.VideoPlaceholderId,0,t.IsAutoPlay,t.IsFloating,w,t.AdUnit);i&&(e.adRenderer.ads_.isAdRequested=!1,e.adRenderer.requestAllAds(i))}}else e.on("playing",(async function(){if(e.adRenderer){let i=await __ez.vhb.requestBreaks(t.PlayerId,t.VideoContentId,le(t,!1),t.VideoPlaceholderId,0,t.IsAutoPlay,t.IsFloating,w,t.AdUnit);i&&e.adRenderer.requestAllAds(i)}}))}));let z,_,V=function(e){if("undefined"===typeof e&&(e=!1),!c)return;let t=n;o&&(t=o);let i,a,r=t.scrollHeight,d=l.scrollHeight,s=r||d,u=window._hmx.topWindowBridge.getBoundingClientRectInTopWindow(t).top,p=u+s/2,m=u+s,g=window._hmx.topWindowBridge.getTopWindowInnerHeight();return g<=.66*s?(i=m<0,a=g<u):(i=p<0,a=g<p),e||B?i||a:!(!i||a)},x=!t.IsFloating,A=!1,C=!1,L=!1,k=!1,T=!1,B=t.IsFloating&&!V(!0),j="undefined"!==typeof t.Captions;addEventListener("RightSideRailLoaded",(function(){t.IsFloating&&(L=!0)})),addEventListener("RightSideRailUnloaded",(function(){t.IsFloating&&(k=!1)})),addEventListener("LeftSideRailLoaded",(function(){t.IsFloating&&(T=!0)})),document.addEventListener("fullscreenchange",(function(){let i=e.currentWidth()<=f;(t.IsFloating||i)&&(document.fullscreenElement?(P(y.qualityEl),P(y.shareEl),P(y.pipEl),j&&!i&&P(y.captionsEl)):(b(y.qualityEl),b(y.shareEl),b(y.pipEl),j&&!i&&b(y.captionsEl)))}));let R=r.parentNode,O=r.nextSibling,H=async function(){let i=q(!1,!1)&&e.isAdInProgress();if("undefined"!==typeof ezVideo&&ezVideo.appendFloatAfterAd&&i)return;if(document.getElementsByTagName("vdo").length>0&&V(!1))return;("undefined"!==typeof smInit&&smInit>0||"undefined"!==typeof smInitPlayer&&smInitPlayer>0)&&(x=!0);let o=function(){let e=0;const t=document.getElementsByClassName("ezmob-footer");if(t.length>0)e=t[0].scrollHeight,t.length>1&&(e=Math.max(t[1].scrollHeight));else{let t=document.querySelector('[data-anchor-status="displayed"]',".ezfound",".adsbygoogle");t&&(e=Math.max(t.scrollHeight,t.clientHeight,t.offsetHeight))}return e}(),a=n.classList.contains("vertical-wrap"),c=r.classList.contains("ez-float-top");e.currentWidth()<=f&&(b(y.captionsEl),b(y.shareEl),b(y.pipEl)),z=e.videoWidth(),_=e.videoHeight(),a?r.classList.add("vertical"):r.classList.remove("vertical");let v=document.getElementById("ez-cookie-dialog-wrapper");if(t.IsFloating&&null===v){let i,n,v,B;A="none"!==u.style.display;const M="undefined"!==typeof ezVideoAdConductor?ezVideoAdConductor.getVideoAdConductor():null;if(!A&&!V(!1)||x||M&&!M.canFloatVideo()){"undefined"!==typeof ezVideo&&ezVideo.appendFloatAfterAd&&C&&(O?R.insertBefore(r,O):R.appendChild(r)),e.height(_),e.width(z),e.aspectRatio(a?"9:16":"16:9"),r.classList.remove("ez-stuck"),r.style.top="",r.style.bottom="",r.style.right="",r.style.left="",r.style.removeProperty("z-index"),i="none",n="none",v="none",B="block",C=!1,e.currentWidth()<=f&&!a||(P(y.qualityEl),P(y.shareEl),P(y.pipEl),P(y.captionsEl),a&&(P(y.playbackRateEl),P(y.remainingTimeEl),E(y.timeControlEls))),t.MagicPlaceholderType==m&&e.controlBar.hide(),d.style.display=i,s.style.display=n,p&&(p.style.display=B),u.style.display=v}else{h&&null!==M.outstreamPlayer&&await M.dispatchEvent("pauseOutstream",{});var w=a?400:225,S=a?225:400;_ezaq&&_ezaq.form_factor_id&&1==_ezaq.form_factor_id&&(w=a?400:225,S=a?225:400),e.height(w),e.width(S);let f=r.clientHeight;e.aspectRatio(a?"9:16":"16:9"),r.classList.add("ez-stuck"),r.classList.remove("floating-placeholder-sizer"),L?r.style.right="200px":k&&(r.style.right="20px"),T&&r.classList.contains("ez-float-left")&&(r.style.left="200px"),g&&!c?r.style.bottom=o+15+"px":function(e){if(!isMobile())return;let t=document.getElementsByTagName("header");if(t.length>0){let i=t[0].clientHeight;return void(e.style.top=`${i}px`)}let i=document.getElementsByTagName("nav");if(i.length>0){let t=i[0].clientHeight;e.style.top=`${t}px`}}(),u.style.height=f+"px",b(y.qualityEl),b(y.shareEl),b(y.pipEl),b(y.captionsEl),a&&(b(y.playbackRateEl),b(y.remainingTimeEl),I(y.timeControlEls)),function(){let e=document.querySelector(".ez-video-container.ez-stuck");e&&e.style.setProperty("z-index","2147483646")}(),l.firstChild.style.width="-webkit-fill-available",i="flex",n="flex",v="block",B="none",C=!0,"undefined"!==typeof ezVideo&&ezVideo.appendFloatAfterAd&&!A&&document.body.append(r),t.MagicPlaceholderType==m&&e.controlBar.show(),d.style.display=i,s.style.display=n,p&&(p.style.display=B),u.style.display=v}if(A!=C){let t=C?"startedFloating":"stoppedFloating";if(e.trigger(t),h&&"undefined"!==typeof ezVideoAdConductor){let e=ezVideoAdConductor.getVideoAdConductor();const t=C?"autoPlayFloating":"autoPlayNotFloating";await e.dispatchEvent(t,{})}}!function(e,t,i,n,o,a){if(e.MagicPlaceholderType!==m||!e.hasOwnProperty("MagicBehaviorVersion"))return;if("function"!==typeof n)return;if(!t)return;if(!a)return;switch(t.on("force-hide-container",(function(){i.classList.add("force-hide")})),t.on("force-show-container",(function(){i.classList.remove("force-hide")})),e.MagicBehaviorVersion){case 1:return void(o&&(a.style.right="0",a.style.left="4px",a.style.top="25px"));case 2:return void(n()||i.classList.add("force-hide"));case 3:o&&(a.style.right="0",a.style.left="4px",a.style.top="25px"),n()||i.classList.add("force-hide");default:;}}(t,e,r,N,C,d)}};e.ready((async function(){await H()})),t.IsAutoPlay&&function(e,t,i){let n,o=!1,a=function(){!o&&function(e){if(!e)return M("unable to locate video element without videoObject"),!1;let t=e.PlayerId,i=document.getElementById("ez-video-wrap-"+t),n=document.getElementById("ez-video-container-"+t);if(window._hmx.topWindowBridge.getTopWindowInnerHeight()-window._hmx.topWindowBridge.getBoundingClientRectInTopWindow(i).top>=n.scrollHeight/2)return!0;return!1}(t)&&(M("["+t.VideoPlaceholderId+"]",e+" from scroll viewabilityFunc"),o=!0,i(),window._hmx.topWindowBridge.removeScrollListener(n))};n=window._hmx.topWindowBridge.addScrollListener(a,!1),a()}("autoplay",t,(function(){e.play().then((function(t){e.trigger({type:"adpause",player:e})})).catch((function(e){console.error(e)}))}));addEventListener("DisableInstreamFloating",(()=>{setTimeout((()=>{H()}),2500)}),{once:!0});let F=!1;function N(){return e.adRenderer&&e.adRenderer.isAdPlaying()}function U(){N()?!1===F&&(e.adRenderer.pauseAd(),F=!0):e.pause()}function W(){M("["+t.VideoPlaceholderId+"]","isautoplay: "+t.IsAutoPlay+" ---  played from totalplay"),!0===F?(e.adRenderer.resumeAd(),F=!1):e.play()}function $(){return N()?F:e.paused()}function G(e,t){const i=e.getBoundingClientRect(),n=i.width*i.height;if(0===n)return!1;return Math.max(0,Math.min(i.right,window.innerWidth)-Math.max(i.left,0))*Math.max(0,Math.min(i.bottom,window.innerHeight)-Math.max(i.top,0))/n*100>=t}let J=t.ShouldConsiderDocVisibility||!1,Q=!1,X=function(e){if(window.is_humix_app)return;let i=!1,o=!1;if(e){let e="visible"!=document.visibilityState&&J;i=e&&!$(),o=!e&&Q}else if(x||0==C){let e=G(n,50);t.MagicPlaceholderType==m&&(e=G(n,10));let a=!e&&0==C;i=a&&!$(),o=!a&&Q}i&&(M("autoPause - pausing video"),U(),Q=!0),o&&(M("autoPause - playing video"),W(),Q=!1)},Y=function(){e.off("timeupdate",Y),X(!0)},K=function(){"visible"!=document.visibilityState?e.on("timeupdate",Y):Y()};e.on("click",(function(){Q=!1,J&&(document.removeEventListener("visibilitychange",K),J=!1)})),J&&document.addEventListener("visibilitychange",K);let Z=!1,ee=V(!1),te=function(){Z||(setTimeout((async()=>{Z=!1,!t.IsFloating||B||V(!0)||(B=!0),ee!==V(!1)&&(ee=V(!1),await H(),e.trigger(ee?"videoOffScreen":"videoOnScreen")),X(!1)}),300),Z=!0)};window.parent==window&&(window.addEventListener("scroll",te,!1),e.one("dispose",(()=>{window.removeEventListener("scroll",te,!1)})));t.IsFloating&&(e.el().style="",e.el().firstChild.style="",V(!1)&&t.IsAutoPlay&&(await H(),M("["+t.VideoPlaceholderId+"]","autoplaying from checkscroll"),e.play().then((function(t){e.trigger({type:"adpause",player:e})}))),d.addEventListener("click",(async function(){let i=async()=>{"undefined"!==typeof ezVideo&&ezVideo.appendFloatAfterAd&&(O?R.insertBefore(r,O):R.appendChild(r)),r.classList.add("ez-player-closed"),x=!0,C=!1,X(!1),e.trigger("floatPlayerClosed"),2===t.FloatOptionFlag?n.style.display="none":(n.style.height="auto",await H(),e.height(_),e.width(z),r.classList.remove("ez-stuck"),r.style.top="",r.style.bottom="",d.style.display="none",s.style.display="none",u.style.display="none")};"function"===typeof window.requestAnimationFrame?requestAnimationFrame(i):i()})),e.on("playing",(async function(){await H(),X(!1)})));let ie=document.getElementById("lds-ring-"+i);ie&&ie.parentNode.removeChild(ie),new MutationObserver((e=>{if(e.length>1&&null!==s){s.firstElementChild.id.split("-")[4]===e[0].target.id.split("-")[2]&&(s.style.backgroundColor=e[1].target.classList.contains("vjs-user-active")?"rgb(32,32,32,0.7)":"rgb(32,32,32,0)"),s.firstElementChild.style.opacity=e[1].target.classList.contains("vjs-user-active")?1:0}})).observe(l,{attributeFilter:["class"]}),S(e,t),function(e,t){let i=t.VideoPlaceholderId;if(1!==i&&4999!==i){const o=document.getElementById(`ez-video-container-ez-${i}`),a=document.getElementById(`ez-video-ez-${i}_html5_api`),r=a.parentElement,l=o.getElementsByClassName("vignette-top-card")[0],d=o.querySelector("#vignette-top-button"),s=o.querySelector("#vignette-fullscreen-button"),c=document.getElementById("vignette-overlay"),u=document.getElementsByClassName("watch-on-link")[0],p=document.getElementById(`ez-video-links-ez-${i}`);let m=!1;document.addEventListener("click",(e=>{m=!1})),a.addEventListener("click",(e=>{!0===a.paused?(document.getElementById("play-button-container").classList.add("play-button-container-active"),document.getElementById("keymoment-play").style.display="flex"):(document.getElementById("play-button-container").classList.remove("play-button-container-active"),document.getElementById("keymoment-play").style.display="flex"),m=!0,e.stopPropagation()})),document.getElementById("keymoment-play").addEventListener("animationend",(()=>{document.getElementById("keymoment-play").style.display="none"})),a.addEventListener("volumechange",(e=>{localStorage.setItem("humix-volume",a.volume),a.muted&&localStorage.setItem("humix-volume",0)}));var n=!1;a.addEventListener("playing",(()=>{u&&(u.style.display="none"),n||(c&&(c.style.display="none"),p&&p.classList.add("ez-video-link-inactive"),l&&l.classList.add("vignette-user-inactive"))})),a.addEventListener("pause",(()=>{c&&(c.style.display="block"),p&&p.classList.remove("ez-video-link-inactive"),l&&l.classList.remove("vignette-user-inactive")})),r.addEventListener("mouseover",(()=>{n=!0,c&&(c.style.display="block"),p&&p.classList.remove("ez-video-link-inactive"),l&&l.classList.remove("vignette-user-inactive")})),r.addEventListener("mouseout",(()=>{if(n=!1,a.paused)return c&&(c.style.display="block"),p&&p.classList.remove("ez-video-link-inactive"),void(l&&l.classList.remove("vignette-user-inactive"));c&&(c.style.display="none"),p&&p.classList.add("ez-video-link-inactive"),l&&l.classList.add("vignette-user-inactive")})),l&&l.addEventListener("mouseover",(()=>{c&&(c.style.display="block")})),a.addEventListener("ended",(()=>{c&&(c.style.display="block"),p&&p.classList.remove("ez-video-link-inactive"),l&&l.classList.remove("vignette-user-inactive")})),d&&d.addEventListener("click",(t=>{c&&(c.style.display="none"),p&&p.classList.add("ez-video-link-inactive"),l&&l.classList.add("vignette-user-inactive"),e.getChild("ShareOverlay").open(),document.querySelector(".vjs-modal-dialog-content")})),s&&s.addEventListener("click",(t=>{e.isFullscreen()?e.exitFullscreen():e.requestFullscreen()}));let g=!1;async function h(e){for(let t of e)"intervention"==t.type&&window.parent.postMessage({name:"intervention",contents:JSON.stringify(t)},"*")}document.addEventListener("keypress",(async e=>{var t=e.key;if(!1===g&&("p"===t&&(document.getElementById("keymoment-play").style.display="flex",!0===a.paused?(document.getElementById("play-button-container").classList.add("play-button-container-active"),a.play()):(document.getElementById("play-button-container").classList.remove("play-button-container-active"),a.pause()),document.getElementById("keymoment-play").addEventListener("animationend",(()=>{document.getElementById("keymoment-play").style.display="none"}))),"t"===t)){let e=document.querySelector(".vjs-theater-mode-button-custom");e&&e.click()}}),!1),document.addEventListener("keydown",(e=>{var t=e.code;m&&!1===g&&("ArrowLeft"===t&&(document.getElementById("keymoment-rewind").style.display="flex",a.currentTime-=5,document.getElementById("keymoment-rewind").addEventListener("animationend",(()=>{document.getElementById("keymoment-rewind").style.display="none"}))),"ArrowRight"===t&&(document.getElementById("keymoment-forward").style.display="flex",a.currentTime+=5,document.getElementById("keymoment-forward").addEventListener("animationend",(()=>{document.getElementById("keymoment-forward").style.display="none"}))))}),!1);const f=new ReportingObserver(((e,t)=>{h(e)}),{buffered:!0});f.observe(),window.addEventListener("pagehide",(e=>{h(f.takeRecords())}))}}(e,t);const ne=e.el().querySelector(".vjs-poster > picture > img");ne&&ne.setAttribute("alt","video of: "+t.VideoTitle)}(t,e);let n=performance.now()-i;M("["+e.VideoPlaceholderId+"]","Set up Ezoic Video Player for VideoPostionId =",e.VideoPlaceholderId,"in",n,"ms")}))}const ge=()=>{const e=navigator.userAgent;return/(;? wv\))/.test(e)?"webview":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Kindle|Silk-Accelerated|(hpw|web)OS|Opera M(obi|ini)/.test(e)?"mobile":"desktop"};function he(e,t,i){var n;let o="vjs-report-button-custom-"+(n=i||t.VideoPlaceholderId);var a=videojs.getComponent("Button");let r="ReportButton-"+n;videojs.registerComponent(r,class extends a{constructor(e,t){super(e,t),this.addClass("vjs-button"),this.addClass("vjs-control"),this.controlText("Report video"),this.el().innerHTML='<span class="vjs-icon-placeholder"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" style="fill: #ffffff;" viewBox="0 0 512 512"><path d="M349.565 98.783C295.978 98.783 251.721 64 184.348 64c-24.955 0-47.309 4.384-68.045 12.013a55.947 55.947 0 0 0 3.586-23.562C118.117 24.015 94.806 1.206 66.338.048 34.345-1.254 8 24.296 8 56c0 19.026 9.497 35.825 24 45.945V488c0 13.255 10.745 24 24 24h16c13.255 0 24-10.745 24-24v-94.4c28.311-12.064 63.582-22.122 114.435-22.122 53.588 0 97.844 34.783 165.217 34.783 48.169 0 86.667-16.294 122.505-40.858C506.84 359.452 512 349.571 512 339.045v-243.1c0-23.393-24.269-38.87-45.485-29.016-34.338 15.948-76.454 31.854-116.95 31.854z"/></svg></span>'}buildCSSClass(){return o}handleClick(){let e="https://humix.com/humix/video/report/"+t.VideoContentId;window.open(e,"_blank").focus()}});let l=e.getChild("controlBar").children_.length,d=Math.max(0,l-2);e.getChild("controlBar").addChild(r,{},d)}function fe(e,t,i){var n;n=i||t.VideoPlaceholderId;let o=videojs.getComponent("Component");let a="WatchOnLinkButton-"+n;videojs.registerComponent(a,class extends o{createEl(){return videojs.dom.createEl("a",{id:"control-bar-watchonlink-button-"+t.PlayerId,className:"vjs-control control-bar-watchonlink-button",innerHTML:'<span class="tooltiptext">Watch on Humix</span><span><img style="margin-bottom: 4px;border-radius:0px" src="https://assets.humix.com/full_humix_logo_white.png" alt="Humix" class="img-fluid" /></span>',href:"https://www.humix.com/video/"+t.VideoContentId,target:"_blank"})}});let r=e.getChild("controlBar").children_.length,l=Math.max(0,r-2);e.getChild("controlBar").addChild(a,{},l)}function ye(e,t,i){var n;n=i||t.VideoPlaceholderId;const o=e.textTracks(),a=Array.from(o.tracks_).find((e=>e.language&&""!==e.language.trim()));if(!a)return;var r=videojs.getComponent("Button");let l="CaptionsToggle-"+n;videojs.registerComponent(l,class extends r{constructor(e,t){super(e,t),this.addClass("vjs-button"),this.addClass("vjs-control"),this.el().innerHTML='<span class="tooltiptext">Subtitles on/off</span><span class="vjs-icon-placeholder" aria-hidden="true"></span>'}buildCSSClass(){return"control-bar-captions-toggle"}handleClick(){e.settingsMenu(),"showing"===a.mode?a.mode="disabled":a.mode="showing"}}),e.getChild("controlBar").addChild(l,{},e.getChild("controlBar").children_.length-2)}function ve(e,t,i){X(t).then((n=>{let o=Y(n,t);M("["+i.VideoPlaceholderId+"]","setting up thumbnail plugin"),e.vttThumbnails({src:t,vttObjects:o}),M("["+i.VideoPlaceholderId+"]","setting up preview plugin"),e.vttPreview(e,{videoObject:i,vttObjects:o})}))}function we(e){"mobile"===ge()&&e.on(e.tech_,"tap",(function(){e.paused()?e.play():e.pause()}))}ezVideoPlayer=t})();} catch(err) {var hREED = function(er) {return function() {reportEzError(er, "/beardeddragon/iguana.js")}}; typeof reportEzError==="function"?hREED(err):window.addEventListener('reportEzErrorDefined',hREED(err), {once: true}); console.error(err);}